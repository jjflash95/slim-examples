struct Cons { head }
struct Node { value, next }

impl Cons {
	fn add(value) {
		curr = self.head
		return loop {
			if curr.next == nil {
				curr.next = new Node { value: value, next: nil }
				break self
			}
			curr = curr.next
		}
	}
}

list = fn() {
	return new Cons {
		head: new Node {
			value: 1,
			next: nil
		}
	}
}

print(
	list()
		.add(2)
		.add(3)
		.add(4)
)